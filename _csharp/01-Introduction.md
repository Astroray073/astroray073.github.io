---
title: "개요"
excerpt: "C# 프로그래밍에 있어 기초적인 부분에 대하여 다룹니다."
last_modified_at: 2017-05-18 10:01:07
mathjax: false
---

{% include toc %}

## C# 이란?

`Microsoft`에서 `Java`를 벤치마킹하여 만든 `Managed Language` 이다. `Managed`란 단어에서 알 수 있듯이 어떠한 것을 관리해주는 언어란 뜻이다. 여기서 관리를 하는 것은 바로 메모리부분이다.

*	**Managed**: 메모리를 GC에서 관리해주는 언어.
*	**Unmanaged**:	메모리를 사용자가 직접 관리하는 언어.

`C#`은 `Java`와 매우 유사한 점이 많다. 

1.	두 언어 모두 `가상머신(Virtual Machine)`에서 돌아가는 언어이다. 따라서 플랫폼에 제약을 받지 않는 언어이다. C#의 경우 아직 `크로스 플랫폼(Cross-Platform)`[^1] 기술이 발전해나가는 단계이기는 하다. `닷넷 프레임워크(.Net Framework)` 라는 API 체계를 가지고 이를 구현한다.

2.	문법적으로 거의 동일하다. `키워드(Keyword)`[^2]나 문법적인 측면을 보면 위화감이 없을 정도로 매우 유사하다.

**왜 C#을 사용하는가?**

`C#`을 선택하는 이유 중 가장 큰 이유는 바로 생산성이다. `C++`의 경우 메모리를 직접 관리하는 데에서 얻는 이득, 즉 `미시 최적화(Micro optimization)`[^3]가 가능하지만 이로 인해서 잃는 생산성이 크다. `Java`가 매우 가파르게 성장했던 것과 같은 이유이다. 현대의 하드웨어 성능은 비약적으로 발전했고 소프트웨어의 미시적 최적화가 미치는 영향이 그리 크지 않다. 따라서 생산성이 높은 언어가 각광을 받고 있는 것이다.

그 다음으로 개인적으로 꼽는 것이 `비주얼 스튜디오(VS, Visual Studio)`의 `인텔리센스(IntelliSense)`[^4] 기능이다. VS는 현존하는 가장 뛰어난 `통합 개발 환경(IDE, Integrated Development Environment)`[^5]라고 해도 과언이 아니다. `C++`에서는 중구난방이었던 인텔리센스 기능이 `C#`에 와서는 완벽해졌다. 개발하는 데에 있어 컴파일러와 텍스트 에디어만 가지고도 개발할 수야 있지만 해당 클래스에 어떤 메서드와 프로퍼티를 가졌는지 한 눈에 알아보고 이를 활용하는 데에 있어서 IDE는 필수적이다.

## 컴파일러(Compiler)

`컴파일러(Compiler)`란 고급언어를 저급언어(기계어)로 번역하는 통역기를 말한다. 여기서 고급언어란 `C`,`C++`, `Java` 등 프로그래밍 언어를 말하고 저급언어란 `어셈블리어`를 만한다.

### 전처리기(Preprocessor)

`전처리기(Preprocessor)` 란 단어의 의미를 보면 무언가를 하기전에 처리를 한다는 의미인데, 이는 바로 소스코드를 빌드하기 전 처리하는 명령어를 말한다.
다음은 C#에서 자주 사용하는 전처리기 목록이다.

```cs
// [코드] 내용을 Outline 시켜준다.
#region MyRegion
  [코드]
#endregion

// [코드] 에서 발생하는 경고를 무시한다.
#pragma warning disable 0168
  [코드]
#pragma warning restore 0168

// [변수명] 을 정의한다.
#define [변수명]

// [변수명] 이 정의되어있다면 [코드]를 컴파일한다.
#if [변수명]
  [코드]
#endif
```

특히 3번의 경우를 `조건부 컴파일(Conditional compilation)`이라 한다. 주 활용법은 API내에 버전별로 함수가 변경이 발생하여 이를 지원하기 위해 활용하거나 플랫폼 별로 필요없는 코드를 제외하여 최적화를 진행할 때 사용한다.

## VS 단축키 모음

IDE로 [Visual Studio 2017 Community](https://www.visualstudio.com/ko/thank-you-downloading-visual-studio/?sku=Community&rel=15) 를 사용할 것이다. 따라서 VS 사용할 때에 있어서 자주 활용하는 단축키를 적어둔다.

|번호|명령어|내용|
|:---:|:---:|:---:|
|0|빠른 코드 입력|Tab or Space|
|1|퀵 메뉴|Ctrl + .|
|2|주석 처리|Ctrl + K -> Ctrl + C|
|3|주석 해제|Ctrl + K -> Ctrl + U|
|4|Outline 펼치기|Ctrl + M -> Ctrl + O|
|5|Outline 토글|Ctrl + M -> Ctrl + M|
|6|Outline 닫기|Ctrl + M -> Ctrl + L|
|7|정의로 가기|F12|

{: .notice--info }
**Note:** 특히 Ctrl + . 단축키는 마법의 단축키로 정말 많은 곳에서 활용합니다.

## 메모리 구조

메모리 구조는 크게 4가지로 나뉜다. 코드를 저장하는 영역인 Code 영역, 전역변수, 정적변수, 배열, 구조체 등이 저장되는 Data 영역, 동적(Dynamic) 메모리 할당을 담당하는 Heap 영역, 마지막으로 메서드 호출이 임시 데이터를 저장하는 Stack 영역이 있다.

|메모리 주소|메모리 할당 영역|할당 시간|
|:---:|:---:|:---:|
|높음|Stack|컴파일|
||<i class="fa fa-long-arrow-down"></i> Stack의 할당 방향||
||<i class="fa fa-long-arrow-up"></i> Heap의 할당 방향||
||Heap|런타임|
||Data|컴파일|
|낮음|Code|컴파일|

**Code 영역**

코드를 저장하는 영역이다. 프로그램상의 명령의 집합이다.

**Data 영역**

컴파일시에 확정되는 변수영역들을 저장한다. 정적(Static) 변수, 배열과 같이 컴파일시에 크기가 결정되는 변수들을 저장한다.

**Heap 영역**

동적 메모리가 할당되는 영역이다. 참조형식의 객체들이 이곳에 저장된다.

**Stack 영역**

`콜스택(Call stack)`이라고도 부르는 곳이다. 메서드의 지역변수, 매개변수, 리턴값이 임시로 저장되고 해제된다. 컴파일 시에 그 Stack 영역의 크기가 제한되어 있고 VS 기본값은 1Mb 이다.

## Comments

[^1]: 플랫폼에 구애받지 않고 빌드할 수 있는 기술을 말한다. Mono 라는 개방형(Open Source) 프로젝트가 존재하였지만 현재는 사장되었다고 봐도 무방할 정도로 더디다. 현재는 MS에서 자체적으로 크로스 플랫폼 기술을 확장시켜나가고 있다.

[^2]: 프로그래밍 언어에서 문법을 작성하기위한 예약어를 말한다.

[^3]: 미시적 레벨에서의 최적화를 의미한다. 한가지 예로 인라인 함수를 이용한 최적화 기법이 있다.

[^4]: 통합 개발 환경(IDE)에서 자동 코드 완성을 시켜주는 기능을 말한다.

[^5]: 프로그램 작성에 필요한 텍스트 에디터, 컴파일러, 툴 등을 포함한 프로그램을 말한다.

*[GC]: Garbage Collector
*[VS]: Visual Studio
*[IDE]: Integrated Development Environment